K <- sparse_kernel(landscape, d_bar_x = 1.5)
source("code/mapping.R")
source("code/model.R")
# Load an image
landscape <- load_landscape("images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 8) # set cellsize <8 to make a finer hex grid overlay
visualise_landscape(landscape)
centroids <- st_coordinates(st_centroid(st_geometry(landscape)))
dist_mat <- as.matrix(dist(centroids))
# Generate sparse dispersal kernel
K <- sparse_kernel(landscape, d_bar_x = 1.5)
source("code/mapping.R")
source("code/model.R")
# Load an image
landscape <- load_landscape("images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 8) # set cellsize <8 to make a finer hex grid overlay
visualise_landscape(landscape)
centroids <- st_coordinates(st_centroid(st_geometry(landscape)))
dist_mat <- as.matrix(dist(centroids))
# Generate sparse dispersal kernel
K <- sparse_kernel(landscape, d_bar_x = 1.5)
View(coords)
View(landscape)
View(nb)
View(nb)
View(landscape)
# Generate sparse dispersal kernel
K <- sparse_kernel(landscape, d_bar_x = 20)
source("code/model.R")
# Generate sparse dispersal kernel
K <- sparse_kernel(landscape, d_bar_x = 20)
# Initialize host distribution
H <- rep(0, nrow(landscape))
H[c(1, 43)] <- 1
# Disperse
H_next <- K %*% H
# Visualize
landscape$H <- as.numeric(H_next)
ggplot(landscape) + geom_sf(aes(fill = H)) + scale_fill_viridis_c() + theme_void()
H[c(1, 143)] <- 1
# Disperse
H_next <- K %*% H
# Visualize
landscape$H <- as.numeric(H_next)
ggplot(landscape) + geom_sf(aes(fill = H)) + scale_fill_viridis_c() + theme_void()
# Initialize host distribution
H <- rep(0, nrow(landscape))
H[c(1, 243)] <- 1
# Disperse
H_next <- K %*% H
# Visualize
landscape$H <- as.numeric(H_next)
ggplot(landscape) + geom_sf(aes(fill = H)) + scale_fill_viridis_c() + theme_void()
visualise_landscape(landscape)
H[c(1, 240)] <- 1
# Initialize host distribution
H <- rep(0, nrow(landscape))
H[c(1, 240)] <- 1
# Disperse
H_next <- K %*% H
# Visualize
landscape$H <- as.numeric(H_next)
ggplot(landscape) + geom_sf(aes(fill = H)) + scale_fill_viridis_c() + theme_void()
H[c(1, 246)] <- 1
# Initialize host distribution
H <- rep(0, nrow(landscape))
H[c(1, 246)] <- 1
# Disperse
H_next <- K %*% H
# Visualize
landscape$H <- as.numeric(H_next)
ggplot(landscape) + geom_sf(aes(fill = H)) + scale_fill_viridis_c() + theme_void()
H[c(1, 246, 245)] <- 1
# Disperse
H_next <- K %*% H
# Visualize
landscape$H <- as.numeric(H_next)
ggplot(landscape) + geom_sf(aes(fill = H)) + scale_fill_viridis_c() + theme_void()
visualise_landscape(landscape)
# Load an image
landscape <- load_landscape("images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 8) # set cellsize <8 to make a finer hex grid overlay
centroids <- st_coordinates(st_centroid(st_geometry(landscape)))
dist_mat <- as.matrix(dist(centroids))
# Generate sparse dispersal kernel
K <- sparse_kernel(landscape, d_bar_x = 20)
# Initialize host distribution
H <- rep(0, nrow(landscape))
H[c(1, 246, 245)] <- 1
# Disperse
H_next <- K %*% H
# Visualize
landscape$H <- as.numeric(H_next)
ggplot(landscape) + geom_sf(aes(fill = H)) + scale_fill_viridis_c() + theme_void()
10.2%%20
10.2%%5
10.2%%8
sf:::check_append_delete |>View()
dbscan
source("code/mapping.R")
source("code/model.R")
# Load an image as landscape
landscape <- load_landscape("images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 80) # set cellsize <8 to make a finer hex grid overlay
visualise_landscape(landscape)
# Load an image as landscape
landscape <- load_landscape("images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 80) # set cellsize <8 to make a finer hex grid overlay
visualise_landscape(landscape)
View(landscape)
# Load an image as landscape
landscape <- load_landscape("images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 25) # set cellsize <8 to make a finer hex grid overlay
visualise_landscape(landscape)
# Load an image as landscape
landscape <- load_landscape("images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 80) # set cellsize <8 to make a finer hex grid overlay
visualise_landscape(landscape)
View(landscape)
# Generate sparse dispersal kernel
K <- sparse_kernel(landscape, d_bar_x = 1)
source("code/mapping.R")
source("code/model.R")
# Generate sparse dispersal kernel
K <- sparse_kernel(landscape, d_bar_x = 1)
# Generate sparse dispersal kernel
K <- compute_sparse_distance(landscape, d_bar_x = 1)
source("code/mapping.R")
source("code/model.R")
# Load an image as landscape
landscape <- load_landscape("images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 80) # set cellsize <8 to make a finer hex grid overlay
visualise_landscape(landscape)
View(landscape)
# Generate sparse dispersal kernel
K <- compute_sparse_distance(landscape, d_bar_x = 1)
visualise_landscape(landscape)
View(landscape)
source("code/mapping.R")
visualise_landscape(landscape)
View(landscape)
source("code/mapping.R")
source("code/model.R")
# Load an image as landscape
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 100) |> # set cellsize <8 to make a finer hex grid overlay
basic_habitat_quality(threshold = 0.5)
View(landscape)
visualise_landscape(landscape)
source("code/mapping.R")
visualise_landscape(landscape)
# Load an image as landscape
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 100) |> # set cellsize <8 to make a finer hex grid overlay
basic_habitat_quality(threshold = 0.1)
visualise_landscape(landscape)
# Load an image as landscape
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 100) |> # set cellsize <8 to make a finer hex grid overlay
basic_habitat_quality(threshold = 0.9)
visualise_landscape(landscape)
# Load an image as landscape
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 100) |> # set cellsize <8 to make a finer hex grid overlay
basic_habitat_quality(threshold = 0.5)
visualise_landscape(landscape)
# Load an image as landscape
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 100) |> # set cellsize <8 to make a finer hex grid overlay
basic_habitat_quality(threshold = 0.5) |>
visualise_landscape()
# Load an image as landscape
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 100# set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5) |>
visualise_landscape()
# Load an image as landscape
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 80# set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5) |>
visualise_landscape()
# Load an image as landscape
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 60# set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5) |>
visualise_landscape()
# Load an image as landscape
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 30# set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5) |>
visualise_landscape()
# Load an image as landscape
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 20# set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5) |>
visualise_landscape()
# Load an image as landscape
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 20# set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5) |>
visualise_landscape()
# Load an image as landscape
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 20# set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5)
visualise_landscape(landscape)
# Load an image as landscape
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5,# Set scale <1 to shrink image
cellsize = 100# set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5)
visualise_landscape(landscape)
# Load an image as landscape
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5, # Set scale <1 to shrink image
cellsize = 100 # set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5)
visualise_landscape(landscape)
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 1,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
D
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 2,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
compute_dispersal
D
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 0.5,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
D
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 0.6,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
D
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 0.7,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
D
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 0.99,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
D
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 0.9,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
D
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 0.98,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
D
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 0.91,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
D
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 0.90,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
D
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 1,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
D
# Load an image as landscape
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5, # Set scale <1 to shrink image
cellsize = 50 # set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5)
visualise_landscape(landscape)
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 1,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
D
D[1:10,1:10]
# Load an image as landscape
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5, # Set scale <1 to shrink image
cellsize = 80 # set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5)
visualise_landscape(landscape)
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 1,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
D[1:10,1:10]
D
# EXTREMELY SMALL
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5, # Set scale <1 to shrink image
cellsize = 100 # set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5)
visualise_landscape(landscape)
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 1,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
D
# PRETTY SMALL
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5, # Set scale <1 to shrink image
cellsize = 80 # set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5)
visualise_landscape(landscape)
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 1,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
D
View(landscape)
View(D)
source("code/model.R")
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 1,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
View(centroids)
View(landscape)
View(landscape[[3]][[1]])
landscape[[3]][[1]][[1]]
View(landscape[[3]][[7]])
View(landscape[[3]][[1]])
landscape[[3]][[1]][[1]]
landscape[[3]][[1]]
View(landscape[[3]][[1]])
landscape[[3]][[1]][[1]]
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 1,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
View(avg_host_dispersal)
View(centroids)
View(neighbors)
View(landscape)
View(neighbors)
neighbors[["dist"]]
neighbor_distances
origins
destinations
View(landscape)
neighbors[["dist"]][[1]]
source("code/mapping.R")
source("code/model.R")
# PRETTY SMALL
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5, # Set scale <1 to shrink image
cellsize = 80 # set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5)
visualise_landscape(landscape)
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 1,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
D
# EXTREMELY SMALL
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5, # Set scale <1 to shrink image
cellsize = 50 # set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5)
visualise_landscape(landscape)
# EXTREMELY SMALL
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5, # Set scale <1 to shrink image
cellsize = 20 # set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5)
visualise_landscape(landscape)
# EXTREMELY SMALL
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5, # Set scale <1 to shrink image
cellsize = 8# set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5)
visualise_landscape(landscape)
?st_nn
source("code/mapping.R")
source("code/model.R")
# PRETTY SMALL
landscape <- load_landscape(
"images/blobs.png",
scale = 0.5, # Set scale <1 to shrink image
cellsize = 80 # set cellsize <8 to make a finer hex grid overlay
) |>
basic_habitat_quality(threshold = 0.5)
visualise_landscape(landscape)
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 1,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
View(neighbors)
neighbor_distances
D
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 2,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
source("code/model.R")
# Generate sparse dispersal kernel
D <- compute_sparse_distance(
landscape,
avg_host_dispersal = 2,
max_host_dispersal_mult = 1.1,
normalize_rows = TRUE)
D
